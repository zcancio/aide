var O=Object.defineProperty;var $=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var D=(e,t)=>{for(var a in t)O(e,a,{get:t[a],enumerable:!0})},F=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of C(t))!k.call(e,i)&&i!==a&&O(e,i,{get:()=>t[i],enumerable:!(n=$(t,i))||n.enumerable});return e};var j=e=>F(O({},"__esModule",{value:!0}),e);var Te={};D(Te,{emptyState:()=>E,parseAideHtml:()=>xe,reduce:()=>I,render:()=>ve,replay:()=>U});module.exports=j(Te);var S=new Set(["string","int","float","bool","date","datetime"]);function N(e){return typeof e=="string"&&e.endsWith("?")}function h(e){return typeof e=="string"?e.replace(/\?$/,""):typeof e=="object"&&"enum"in e?"enum":typeof e=="object"&&"list"in e?"list":"unknown"}function R(e){return typeof e=="string"?S.has(e.replace(/\?$/,"")):typeof e=="object"&&"enum"in e?Array.isArray(e.enum)&&e.enum.length>0:typeof e=="object"&&"list"in e?S.has(e.list):!1}function v(e,t){if(e==null)return N(t);switch(h(t)){case"string":return typeof e=="string";case"int":return typeof e=="number"&&Number.isInteger(e);case"float":return typeof e=="number";case"bool":return typeof e=="boolean";case"date":return typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e);case"datetime":return typeof e=="string"&&!isNaN(Date.parse(e));case"enum":return typeof t=="object"&&"enum"in t&&t.enum.includes(e);case"list":if(!Array.isArray(e))return!1;let n=typeof t=="object"&&"list"in t?t.list:"string";return e.every(i=>v(i,n));default:return!1}}function E(){return{version:1,meta:{},collections:{},relationships:[],relationship_types:{},constraints:[],blocks:{block_root:{type:"root",children:[],props:{}}},views:{},styles:{},annotations:[]}}function f(e,t=[]){return{snapshot:e,applied:!0,warnings:t,error:null}}function c(e,t,a){return{snapshot:e,applied:!1,warnings:[],error:`${t}: ${a}`}}function b(e,t){return{code:e,message:t}}function _(e,t){let a=e.collections[t];return!a||a._removed?[null,"COLLECTION_NOT_FOUND"]:[a,null]}function L(e){return JSON.parse(JSON.stringify(e))}function I(e,t){let a=L(e),{type:n,payload:i,sequence:r}=t,s=fe[n];return s?s(a,i,r??0,t):c(a,"UNKNOWN_PRIMITIVE",`Unknown type: ${n}`)}function U(e){let t=E();for(let a of e)t=I(t,a).snapshot;return t}function q(e,t,a){let n=[];for(let i of e.constraints)if(i.rule==="collection_max_entities"&&t==="entity.create"){if(i.collection!==a)continue;let r=e.collections[i.collection];if(!r)continue;if(Object.values(r.entities).filter(o=>!o._removed).length>(i.value??1/0)){let o=i.strict?"STRICT_CONSTRAINT_VIOLATED":"CONSTRAINT_VIOLATED";n.push(b(o,i.message||`Max ${i.value} entities exceeded`))}}else if(i.rule==="unique_field"&&(t==="entity.create"||t==="entity.update")){if(i.collection!==a)continue;let r=e.collections[i.collection];if(!r||!i.field)continue;let s=Object.values(r.entities).filter(o=>!o._removed&&o[i.field]!=null).map(o=>String(o[i.field]));if(s.length!==new Set(s).size){let o=i.strict?"STRICT_CONSTRAINT_VIOLATED":"CONSTRAINT_VIOLATED";n.push(b(o,i.message||`Duplicate values in ${i.field}`))}}return n}var Y=(e,t,a)=>{let[n,i]=_(e,t.collection);if(i)return c(e,i,t.collection);let r=t.id||`${t.collection}_${Object.keys(n.entities).length+1}`,s=n.entities[r];if(s&&!s._removed)return c(e,"ENTITY_ALREADY_EXISTS",r);let o=t.fields||{},l=n.schema,d=[],u={};for(let[g,x]of Object.entries(l))if(g in o){if(!v(o[g],x))return c(e,"TYPE_MISMATCH",`${g}: expected ${JSON.stringify(x)}`);u[g]=o[g]}else if(N(x))u[g]=null;else return c(e,"REQUIRED_FIELD_MISSING",g);for(let g of Object.keys(o))g in l||d.push(b("UNKNOWN_FIELD_IGNORED",g));u._removed=!1,u._created_seq=a,n.entities[r]=u;let m=q(e,"entity.create",t.collection);d.push(...m);let y=m.find(g=>g.code==="STRICT_CONSTRAINT_VIOLATED");return y?(delete n.entities[r],c(e,"STRICT_CONSTRAINT_VIOLATED",y.message)):f(e,d)},M=(e,t,a)=>{if(t.filter)return P(e,t,a);let n=(t.ref||"").split("/",2);if(n.length!==2)return c(e,"ENTITY_NOT_FOUND",t.ref);let[i,r]=n,[s,o]=_(e,i);if(o)return c(e,o,i);let l=s.entities[r];if(!l)return c(e,"ENTITY_NOT_FOUND",r);if(l._removed)return c(e,"ENTITY_NOT_FOUND",`${r} (removed)`);for(let[d,u]of Object.entries(t.fields||{})){let m=s.schema[d];if(m&&!v(u,m))return c(e,"TYPE_MISMATCH",`${d}: expected ${JSON.stringify(m)}`);l[d]=u}return l._updated_seq=a,f(e)},P=(e,t,a)=>{let n=t.filter,[i,r]=_(e,n.collection);if(r)return c(e,r,n.collection);let s=n.where||{},o=t.fields||{},l=0;for(let d of Object.values(i.entities))if(!d._removed&&Object.entries(s).every(([u,m])=>d[u]===m)){for(let[u,m]of Object.entries(o)){let y=i.schema[u];if(y&&!v(m,y))return c(e,"TYPE_MISMATCH",`${u}: expected ${JSON.stringify(y)}`);d[u]=m}d._updated_seq=a,l++}return f(e,[b("ENTITIES_AFFECTED",`${l} entities updated`)])},B=(e,t,a)=>{let n=(t.ref||"").split("/",2);if(n.length!==2)return c(e,"ENTITY_NOT_FOUND",t.ref);let[i,r]=n,[s,o]=_(e,i);if(o)return c(e,o,i);let l=s.entities[r];return l?l._removed?f(e,[b("ALREADY_REMOVED",r)]):(l._removed=!0,l._removed_seq=a,e.relationships=e.relationships.filter(d=>d.from!==t.ref&&d.to!==t.ref),f(e)):c(e,"ENTITY_NOT_FOUND",r)},V=(e,t,a)=>{let n=e.collections[t.id];if(n&&!n._removed)return c(e,"COLLECTION_ALREADY_EXISTS",t.id);let i=t.schema||{};for(let[r,s]of Object.entries(i))if(!R(s))return c(e,"TYPE_MISMATCH",`Unknown type: ${JSON.stringify(s)}`);return e.collections[t.id]={id:t.id,name:t.name||t.id,schema:i,settings:t.settings||{},entities:{},_removed:!1,_created_seq:a},f(e)},z=(e,t,a)=>{let[n,i]=_(e,t.id);if(i)return c(e,i,t.id);if(t.name!==void 0&&(n.name=t.name),t.settings)for(let[r,s]of Object.entries(t.settings))s===null?delete n.settings[r]:n.settings[r]=s;return f(e)},W=(e,t,a)=>{let n=e.collections[t.id];if(!n)return c(e,"COLLECTION_NOT_FOUND",t.id);if(n._removed)return f(e,[b("ALREADY_REMOVED",t.id)]);n._removed=!0;for(let i of Object.values(n.entities))i._removed=!0;for(let[i,r]of Object.entries(e.views))r.source===t.id&&delete e.views[i];return f(e)},H=new Set(["string\u2192int","string\u2192float","string\u2192bool","string\u2192enum","string\u2192date","int\u2192string","int\u2192float","int\u2192bool","int\u2192enum","float\u2192string","float\u2192int","float\u2192enum","bool\u2192string","bool\u2192int","bool\u2192enum","enum\u2192string","enum\u2192enum","date\u2192string","date\u2192date"]),G=new Set(["string\u2192int","string\u2192float","string\u2192bool","string\u2192date","string\u2192enum"]),J=(e,t,a)=>{let[n,i]=_(e,t.collection);if(i)return c(e,i,t.collection);if(t.name in n.schema)return c(e,"FIELD_ALREADY_EXISTS",t.name);if(!R(t.type))return c(e,"TYPE_MISMATCH",`Unknown type: ${JSON.stringify(t.type)}`);let r=t.default??null,s=Object.values(n.entities).some(o=>!o._removed);if(!N(t.type)&&r===null&&s)return c(e,"REQUIRED_FIELD_NO_DEFAULT",t.name);n.schema[t.name]=t.type;for(let o of Object.values(n.entities))o[t.name]=r;return f(e)},K=(e,t,a)=>{let[n,i]=_(e,t.collection);if(i)return c(e,i,t.collection);if(!(t.name in n.schema))return c(e,"FIELD_NOT_FOUND",t.name);let r=[];if(t.type!==void 0){let s=h(n.schema[t.name]),o=h(t.type);if(s!==o){if(s==="list"||o==="list")return c(e,"INCOMPATIBLE_TYPE_CHANGE",`${s} \u2192 ${o}`);if(!H.has(`${s}\u2192${o}`))return c(e,"INCOMPATIBLE_TYPE_CHANGE",`${s} \u2192 ${o}`);if(s==="float"&&o==="int"&&r.push(b("LOSSY_TYPE_CONVERSION","float \u2192 int")),G.has(`${s}\u2192${o}`))for(let l of Object.values(n.entities)){if(l._removed)continue;let d=l[t.name];if(d!=null){if(o==="int"&&(typeof d!="string"||isNaN(parseInt(d))))return c(e,"INCOMPATIBLE_TYPE_CHANGE",`value '${d}' can't convert to int`);if(o==="float"&&(typeof d!="string"||isNaN(parseFloat(d))))return c(e,"INCOMPATIBLE_TYPE_CHANGE",`value '${d}' can't convert to float`);if(o==="bool"&&!["true","false","0","1","True","False"].includes(String(d)))return c(e,"INCOMPATIBLE_TYPE_CHANGE",`value '${d}' can't convert to bool`);if(o==="date"&&!/^\d{4}-\d{2}-\d{2}$/.test(String(d)))return c(e,"INCOMPATIBLE_TYPE_CHANGE",`value '${d}' can't convert to date`)}}if(o==="enum"&&typeof t.type=="object"&&"enum"in t.type){let l=t.type.enum;for(let d of Object.values(n.entities)){if(d._removed)continue;let u=d[t.name];if(u!=null&&!l.includes(u))return c(e,"INCOMPATIBLE_TYPE_CHANGE",`value '${u}' not in [${l}]`)}}}n.schema[t.name]=t.type}if(t.rename!==void 0){if(t.rename in n.schema)return c(e,"FIELD_ALREADY_EXISTS",t.rename);n.schema[t.rename]=n.schema[t.name],delete n.schema[t.name];for(let s of Object.values(n.entities))t.name in s&&(s[t.rename]=s[t.name],delete s[t.name])}return f(e,r)},X=(e,t,a)=>{let[n,i]=_(e,t.collection);if(i)return c(e,i,t.collection);if(!(t.name in n.schema))return c(e,"FIELD_NOT_FOUND",t.name);delete n.schema[t.name];for(let s of Object.values(n.entities))delete s[t.name];let r=[];for(let s of Object.values(e.views)){let o=s.config;for(let l of["show_fields","hide_fields"])Array.isArray(o[l])&&o[l].includes(t.name)&&(o[l]=o[l].filter(d=>d!==t.name),r.push(b("VIEW_FIELD_MISSING",`${s.id}.${l}`)));o.sort_by===t.name&&delete o.sort_by,o.group_by===t.name&&delete o.group_by}return f(e,r)},Z=(e,t,a)=>{let{from:n,to:i,type:r}=t;for(let o of[n,i]){if(!o)continue;let l=o.split("/",2);if(l.length===2){let[d,u]=l,m=e.collections[d];if(!m||m._removed)return c(e,"COLLECTION_NOT_FOUND",d);let y=m.entities[u];if(!y||y._removed)return c(e,"ENTITY_NOT_FOUND",o)}}let s=t.cardinality||"many_to_one";return e.relationship_types[r]?s=e.relationship_types[r].cardinality:e.relationship_types[r]={cardinality:s},s==="many_to_one"?e.relationships=e.relationships.filter(o=>!(o.from===n&&o.type===r)):s==="one_to_one"&&(e.relationships=e.relationships.filter(o=>!(o.from===n&&o.type===r||o.to===i&&o.type===r))),e.relationships.push({from:n,to:i,type:r,data:t.data||{},_seq:a}),f(e)},Q=(e,t,a)=>(e.constraints.push({id:t.id,rule:t.rule,entities:t.entities||[],relationship_type:t.relationship_type,value:t.value,message:t.message||"",strict:t.strict??!1}),f(e)),ee=(e,t,a)=>{let n=t.id;if(n in e.blocks){let i=e.blocks[n];if(t.props&&Object.assign(i.props,t.props),t.parent!==void 0){for(let s of Object.values(e.blocks)){let o=s.children.indexOf(n);o!==-1&&s.children.splice(o,1)}let r=e.blocks[t.parent];r&&(t.position!=null?r.children.splice(t.position,0,n):r.children.push(n))}}else{if(!t.type)return c(e,"BLOCK_TYPE_MISSING",n);let i=t.parent||"block_root",r=e.blocks[i];if(!r)return c(e,"BLOCK_NOT_FOUND",i);e.blocks[n]={type:t.type,children:[],props:t.props||{}},t.position!=null?r.children.splice(t.position,0,n):r.children.push(n)}return f(e)},te=(e,t,a)=>{let n=t.id;if(n==="block_root")return c(e,"CANT_REMOVE_ROOT","");if(!(n in e.blocks))return c(e,"BLOCK_NOT_FOUND",n);let i=s=>[s,...(e.blocks[s]?.children||[]).flatMap(i)],r=i(n);for(let s of Object.values(e.blocks)){let o=s.children.indexOf(n);o!==-1&&s.children.splice(o,1)}for(let s of r)delete e.blocks[s];return f(e)},ne=(e,t,a)=>{let n=e.blocks[t.parent];if(!n)return c(e,"BLOCK_NOT_FOUND",t.parent);let i=t.children||[],r=n.children,s=r.filter(o=>!i.includes(o));return n.children=[...i.filter(o=>r.includes(o)),...s],f(e)},ie=(e,t,a)=>{if(t.id in e.views)return c(e,"VIEW_ALREADY_EXISTS",t.id);let[,n]=_(e,t.source);return n?c(e,n,t.source):(e.views[t.id]={id:t.id,type:t.type||"table",source:t.source,config:t.config||{}},f(e))},re=(e,t,a)=>{let n=e.views[t.id];return n?(t.type!==void 0&&(n.type=t.type),t.config&&Object.assign(n.config,t.config),f(e)):c(e,"VIEW_NOT_FOUND",t.id)},oe=(e,t,a)=>t.id in e.views?(delete e.views[t.id],f(e)):c(e,"VIEW_NOT_FOUND",t.id),ae=(e,t,a)=>{for(let[n,i]of Object.entries(t))i===null?delete e.styles[n]:e.styles[n]=i;return f(e)},se=(e,t,a)=>{let n=(t.ref||"").split("/",2);if(n.length!==2)return c(e,"ENTITY_NOT_FOUND",t.ref);let[i,r]=n,[s,o]=_(e,i);if(o)return c(e,o,i);let l=s.entities[r];return!l||l._removed?c(e,"ENTITY_NOT_FOUND",t.ref):(l._styles={...l._styles||{},...t.styles||{}},f(e))},ce=(e,t,a)=>(Object.assign(e.meta,t),f(e)),le=(e,t,a,n)=>(e.annotations.push({note:t.note||"",pinned:t.pinned??!1,seq:a,timestamp:n.timestamp||""}),f(e)),de=(e,t,a)=>{let n=e.constraints.findIndex(i=>i.id===t.id);return n>=0?e.constraints[n]=t:e.constraints.push(t),f(e)},fe={"entity.create":Y,"entity.update":M,"entity.remove":B,"collection.create":V,"collection.update":z,"collection.remove":W,"field.add":J,"field.update":K,"field.remove":X,"relationship.set":Z,"relationship.constrain":Q,"block.set":ee,"block.remove":te,"block.reorder":ne,"view.create":ie,"view.update":re,"view.remove":oe,"style.set":ae,"style.set_entity":se,"meta.update":ce,"meta.annotate":le,"meta.constrain":de};function p(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function T(e){let t=p(e);return t=t.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*(.+?)\*/g,"<em>$1</em>"),t=t.replace(/\[(.+?)\]\((https?:\/\/[^\)]+)\)/g,'<a href="$2">$1</a>'),t}function ue(e){return e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}function w(e,t){if(e==null)return'<span class="aide-null">&mdash;</span>';let a=h(t);if(a==="bool")return e?"&#10003;":"&#9675;";if(a==="date"&&typeof e=="string"){let n=new Date(e+"T00:00:00Z");if(!isNaN(n.getTime()))return p(n.toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"UTC"}))}if(a==="datetime"&&typeof e=="string"){let n=new Date(e);if(!isNaN(n.getTime()))return p(n.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:"UTC"}))}return a==="enum"?p(String(e).replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())):a==="list"&&Array.isArray(e)?p(e.join(", ")):p(a==="int"&&typeof e=="number"?e.toLocaleString("en-US"):a==="float"&&typeof e=="number"?e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):String(e))}function pe(e){let t=e.blocks.block_root;for(let a of t?.children||[]){let n=e.blocks[a];if(n?.type==="text")return(n.props.content||"").slice(0,160)}for(let a of Object.values(e.collections)){if(a._removed)continue;let n=Object.values(a.entities).filter(i=>!i._removed).length;return`${a.name||a.id}: ${n} items`}return e.meta.title||"A living page"}function me(e,t){let a=t.sort_by;if(!a)return e;let n=t.sort_order==="desc";return[...e].sort((i,r)=>{let s=i[a],o=r[a],l=s==null?1:0,d=o==null?1:0;return l!==d?l-d:s<o?n?1:-1:s>o?n?-1:1:0})}function ge(e,t){let a=t.filter;return a?e.filter(n=>Object.entries(a).every(([i,r])=>n[i]===r)):e}function A(e,t){let a=t.blocks[e];if(!a)return"";let{type:n,props:i}=a,r="";switch(n){case"root":break;case"heading":{let o=i.level||1;r=`    <h${o} class="aide-heading aide-heading--${o}">${T(i.content||"")}</h${o}>
`;break}case"text":r=`    <p class="aide-text">${T(i.content||"")}</p>
`;break;case"metric":r=`    <div class="aide-metric"><span class="aide-metric__label">${p(i.label||"")}</span><span class="aide-metric__value">${p(i.value||"")}</span></div>
`;break;case"divider":r=`    <hr class="aide-divider">
`;break;case"callout":r=`    <div class="aide-callout">${T(i.content||"")}</div>
`;break;case"image":{let o=i.caption?`<figcaption class="aide-image__caption">${p(i.caption)}</figcaption>`:"";r=`    <figure class="aide-image"><img src="${p(i.src||"")}" alt="${p(i.alt||"")}" loading="lazy">${o}</figure>
`;break}case"collection_view":r=ye(i,t);break;case"column_list":r=`    <div class="aide-columns">
`;break;case"column":{let o=i.width;r=`    <div class="aide-column"${o?` style="flex:0 0 ${o}"`:""}>
`;break}}let s=a.children.map(o=>A(o,t)).join("");return n==="column_list"||n==="column"?r+s+`    </div>
`:r+s}function ye(e,t){let a=e.view_id||e.view,n=t.views[a];if(!n)return"";let i=n.source||e.source,r=t.collections[i];if(!r||r._removed)return"";let s=Object.values(r.entities).filter(d=>!d._removed),o=n.config||{};s=me(s,o),s=ge(s,o);let l=o.show_fields||Object.keys(r.schema).filter(d=>!d.startsWith("_"));return n.type==="list"?be(s,r.schema,l):_e(s,r.schema,l)}function _e(e,t,a){if(!e.length&&!a.length)return`    <p class="aide-collection-empty">No items yet.</p>
`;let n=a.map(r=>`<th>${p(ue(r))}</th>`).join(""),i=e.map(r=>`<tr>${a.map(s=>`<td class="aide-table__td--${h(t[s]||"string")}">${w(r[s],t[s]||"string")}</td>`).join("")}</tr>`).join("");return`    <div class="aide-table-wrap"><table class="aide-table"><thead><tr>${n}</tr></thead><tbody>${i}</tbody></table></div>
`}function be(e,t,a){return e.length?`    <ul class="aide-list">${e.map(i=>`<li class="aide-list__item">${a.map(r=>`<span class="aide-list__field">${w(i[r],t[r]||"string")}</span>`).join("")}</li>`).join("")}</ul>
`:`    <p class="aide-collection-empty">No items yet.</p>
`}function he(e){if(!e.annotations.length)return"";let t=e.annotations.filter(r=>r.pinned),a=e.annotations.filter(r=>!r.pinned).reverse();return`    <section class="aide-annotations"><h3 class="aide-heading aide-heading--3">Notes</h3>${[...t,...a].map(r=>{let s=(r.timestamp||"").slice(0,10);return`<div class="aide-annotation${r.pinned?" aide-annotation--pinned":""}"><span class="aide-annotation__text">${p(r.note)}</span><span class="aide-annotation__meta">${s}</span></div>`}).join("")}</section>
`}function ve(e,t,a=[],n={}){let i=p(e.meta.title||"AIde"),r=p(pe(e)),s=n.footer!==void 0?n.footer:"Made with AIde",o=JSON.stringify(t,null,2),l=JSON.stringify(e,null,2),d=JSON.stringify(a,null,2),u=A("block_root",e),m=he(e),y=new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=s?`    <footer class="aide-footer">
      <a href="https://toaide.com" class="aide-footer__link">${p(s)}</a>
      <span class="aide-footer__sep">&middot;</span>
      <span>Updated ${y}</span>
    </footer>`:"";return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>${i}</title>
  <meta property="og:title" content="${i}">
  <meta property="og:type" content="website">
  <meta property="og:description" content="${r}">
  <meta name="description" content="${r}">
  <script type="application/aide-blueprint+json" id="aide-blueprint">
${o}
  </script>
  <script type="application/aide+json" id="aide-state">
${l}
  </script>
  <script type="application/aide-events+json" id="aide-events">
${d}
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Instrument+Sans:wght@400;500;600;700&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600&display=swap" rel="stylesheet">
  <style>${Oe}</style>
</head>
<body>
  <main class="aide-page">
${u}${m}${g}
  </main>
</body>
</html>`}function xe(e){let t=a=>{let n=new RegExp(`<script type="${a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}"[^>]*>([\\s\\S]*?)</script>`),i=e.match(n);return i?JSON.parse(i[1]):null};return{blueprint:t("application/aide-blueprint+json")||{},snapshot:t("application/aide+json")||E(),events:t("application/aide-events+json")||[]}}var Oe=`*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--font-serif:'Playfair Display',Georgia,serif;--font-sans:'DM Sans',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;--font-heading:'Instrument Sans',-apple-system,BlinkMacSystemFont,sans-serif;--text-primary:#2D2D2A;--text-secondary:#6B6963;--text-tertiary:#A8A5A0;--text-inverse:#F7F5F2;--bg-primary:#F7F5F2;--bg-secondary:#EFECEA;--bg-tertiary:#E6E3DF;--bg-elevated:#FFFFFF;--sage-50:#F0F3ED;--sage-100:#DDE4D7;--sage-200:#C2CCB8;--sage-300:#A3B394;--sage-400:#8B9E7C;--sage-500:#7C8C6E;--sage-600:#667358;--sage-700:#515C46;--sage-800:#3C4534;--sage-900:#282E23;--accent:var(--sage-500);--accent-hover:var(--sage-600);--accent-subtle:var(--sage-50);--accent-muted:var(--sage-100);--border-subtle:#E0DDD8;--border-default:#D4D1CC;--border-strong:#A8A5A0;--border:var(--border-default);--border-light:var(--border-subtle);--radius-sm:6px;--radius-md:10px;--radius-lg:16px;--radius-full:999px;--space-1:4px;--space-2:8px;--space-3:12px;--space-4:16px;--space-5:20px;--space-6:24px;--space-8:32px;--space-10:40px;--space-12:48px;--space-16:64px}
body{font-family:var(--font-sans);font-size:16px;font-weight:400;line-height:1.65;color:var(--text-primary);background:var(--bg-primary);-webkit-font-smoothing:antialiased}
.aide-page{max-width:720px;margin:0 auto;padding:var(--space-12) var(--space-8)}
@media(max-width:640px){.aide-page{padding:var(--space-8) var(--space-5)}}
.aide-heading{margin-bottom:var(--space-4)}
.aide-heading--1{font-family:var(--font-serif);font-size:clamp(36px,4.5vw,42px);font-weight:700;line-height:1.2}
.aide-heading--2{font-family:var(--font-serif);font-size:clamp(28px,3.5vw,32px);font-weight:700;line-height:1.25;margin-top:var(--space-8)}
.aide-heading--3{font-family:var(--font-heading);font-size:18px;font-weight:600;line-height:1.4}
.aide-text{font-size:16px;font-weight:400;line-height:1.65;color:var(--text-secondary);margin-bottom:var(--space-4)}
.aide-text strong{font-weight:500;color:var(--text-primary)}
.aide-text a{color:var(--accent);text-decoration:underline;text-decoration-color:var(--border);text-underline-offset:2px}
.aide-text a:hover{text-decoration-color:var(--accent)}
.aide-metric{display:flex;align-items:baseline;gap:var(--space-2);padding:var(--space-3) 0}
.aide-metric__label{font-size:15px;font-weight:400;color:var(--text-secondary)}
.aide-metric__label::after{content:':'}
.aide-metric__value{font-size:15px;font-weight:500;color:var(--text-primary)}
.aide-divider{border:none;border-top:1px solid var(--border-light);margin:var(--space-6) 0}
.aide-callout{background:var(--bg-secondary);border-left:3px solid var(--border);padding:var(--space-4) var(--space-5);margin:var(--space-4) 0;border-radius:0 var(--radius-sm) var(--radius-sm) 0;font-size:15px;line-height:1.55;color:var(--text-secondary)}
.aide-image{margin:var(--space-6) 0}
.aide-image img{max-width:100%;height:auto;border-radius:var(--radius-sm)}
.aide-image__caption{font-size:13px;color:var(--text-tertiary);margin-top:var(--space-2)}
.aide-columns{display:flex;gap:var(--space-6)}
@media(max-width:640px){.aide-columns{flex-direction:column}}
.aide-column{flex:1}
.aide-table-wrap{overflow-x:auto;margin:var(--space-4) 0}
.aide-table{width:100%;border-collapse:collapse;font-size:15px}
.aide-table th{font-size:11px;font-weight:500;letter-spacing:.08em;text-transform:uppercase;color:var(--text-tertiary);text-align:left;padding:var(--space-2) var(--space-3);border-bottom:2px solid var(--border)}
.aide-table td{padding:var(--space-3);border-bottom:1px solid var(--border-light);color:var(--text-secondary);vertical-align:top}
.aide-table tr:last-child td{border-bottom:none}
.aide-table__td--int,.aide-table__td--float{text-align:right;font-variant-numeric:tabular-nums}
.aide-table__td--bool{text-align:center}
.aide-list{list-style:none;padding:0}
.aide-list__item{display:flex;align-items:baseline;gap:var(--space-3);padding:var(--space-3) 0;border-bottom:1px solid var(--border-light);font-size:15px;line-height:1.5}
.aide-list__item:last-child{border-bottom:none}
.aide-list__field{color:var(--text-secondary)}
.aide-null{color:var(--text-tertiary);font-style:italic}
.aide-collection-empty{color:var(--text-tertiary);font-size:15px;padding:var(--space-8) 0;text-align:center}
.aide-annotations{margin-top:var(--space-10)}
.aide-annotation{padding:var(--space-3) 0;border-bottom:1px solid var(--border-light)}
.aide-annotation:last-child{border-bottom:none}
.aide-annotation__text{font-size:15px;color:var(--text-secondary);line-height:1.5}
.aide-annotation__meta{font-size:12px;color:var(--text-tertiary);margin-left:var(--space-3)}
.aide-annotation--pinned{border-left:3px solid var(--accent);padding-left:var(--space-4)}
.aide-highlight{background-color:var(--accent-subtle)}
.aide-group{margin-bottom:var(--space-6)}
.aide-group__header{font-size:11px;font-weight:500;letter-spacing:.1em;text-transform:uppercase;color:var(--text-tertiary);margin-bottom:var(--space-3);padding-bottom:var(--space-2);border-bottom:1px solid var(--border-light)}
.aide-footer{margin-top:var(--space-16);padding-top:var(--space-6);border-top:1px solid var(--border-light);font-size:12px;color:var(--text-tertiary);text-align:center}
.aide-footer a{color:var(--text-tertiary);text-decoration:none}
.aide-footer a:hover{color:var(--text-secondary)}
.aide-footer .aide-footer__sep{margin:0 var(--space-2)}`;0&&(module.exports={emptyState,parseAideHtml,reduce,render,replay});
